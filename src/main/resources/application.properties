# Server Configuration
server.port=8080

# Twilio Configuration
twilio.account.sid=AC48565b6db6f030c4e1917d0850595337
twilio.auth.token=3b219fb43e054f850b4eb2a2516cb763
twilio.phone.number=+18026590229

# WebSocket Configuration
websocket.allowed.origins=*

# AI Agent Configuration (for future AI integration)
ai.agent.enabled=true
ai.agent.provider=openai
# Test mode: Set to true to test response playback without STT integration
# When enabled, will generate test responses when audio is received
ai.agent.test.mode=true

# Conversation Configuration
# Silence timeout in milliseconds - wait this long after user stops speaking before processing
# Default: 2500ms (2.5 seconds) - increased to give users more time to finish speaking
# Note: This timeout only counts time since LAST AUDIO WITH ENERGY (not silence chunks)
# Increase this value if users are being cut off mid-sentence
conversation.silence.timeout.ms=1500

# Minimum audio duration in milliseconds before processing
# Prevents processing very short audio bursts (like coughs, background noise)
# Default: 500ms - user must speak for at least 0.5 seconds before we process
conversation.min.audio.duration.ms=300

# Audio Energy Detection Configuration
# Minimum RMS energy threshold to consider audio as speech (not silence)
# Lower values = more sensitive (detects quieter speech)
# Higher values = more strict (filters out background noise when mic is off)
# Default: 50.0 - very sensitive to detect even quiet speech
# If user speech still not detected, try lowering to 30.0 or 20.0
# If mic-off audio is detected as speech, increase to 80.0 or 100.0
audio.energy.threshold=50.0

# Minimum percentage of non-silence samples required to consider as speech
# Default: 10% - very sensitive to detect even short words
# Lower values = more sensitive (detects quieter speech)
# Higher values = more strict (requires more of the chunk to have energy)
# If user speech not detected, try lowering to 5.0
audio.energy.min.non.silence.percent=10.0

# Bypass energy detection (for testing/debugging)
# When true, ALL audio chunks will be buffered regardless of energy level
# Use this to test if the issue is with energy detection or audio conversion
audio.energy.bypass=false

# Application Configuration
spring.application.name=twilio-voice-ai-agent

# Twilio Callback URL (for outbound calls)
# Set this to your public URL (ngrok or production domain)
# Example: https://your-ngrok-url.ngrok.io
# Leave empty for local development (will use localhost)
twilio.callback.base.url= https://synodically-spongioblastic-guadalupe.ngrok-free.dev
GOOGLE_API_KEY=244111ba838a7281afb55984460200fcd5da281f

# Vosk Open Source Speech-to-Text Configuration
# Enable/disable Vosk speech recognition
vosk.enabled=false
# Path to Vosk model directory (download from https://alphacephei.com/vosk/models)
# Recommended: vosk-model-small-en-us-0.15 (40MB) for testing
# Better accuracy: vosk-model-en-us-0.22 (1.8GB)
vosk.model.path=./models/vosk-model-small-en-us-0.15

# CMU Sphinx Configuration (Alternative to Vosk)
# Enable/disable CMU Sphinx speech recognition
sphinx.enabled=false
# Path to Sphinx acoustic model
sphinx.acoustic.model.path=./models/sphinx4-en-us
# Path to Sphinx dictionary
sphinx.dictionary.path=./models/cmudict-en-us.dict
# Path to Sphinx language model
sphinx.language.model.path=./models/en-us.lm.bin

# Google Cloud Speech-to-Text Configuration
# Enable/disable Google Cloud Speech-to-Text
# Set to true to use Google Cloud as primary or fallback STT service
google.cloud.speech.enabled=true
# Path to Google Cloud service account JSON credentials file
# If not set, will use GOOGLE_APPLICATION_CREDENTIALS environment variable or Application Default Credentials
# Example: google.cloud.speech.credentials.path=C:/path/to/service-account-key.json
# Or use forward slashes: google.cloud.speech.credentials.path=C:/credentials/service-account-key.json
google.cloud.speech.credentials.path=C:/codes/google_cloud.json
# Language code for speech recognition (e.g., en-US, es-ES, fr-FR)
google.cloud.speech.language.code=en-US
# Sample rate in Hz (Twilio uses 8000 Hz)
google.cloud.speech.sample.rate.hertz=8000
# Enable automatic punctuation
google.cloud.speech.enable.automatic.punctuation=true
# Enable speaker diarization (identify different speakers)
google.cloud.speech.enable.speaker.diarization=false
# Number of alternative transcriptions to return (max 30)
google.cloud.speech.max.alternatives=1
# Enable word-level confidence scores
google.cloud.speech.enable.word.confidence=false
# Use enhanced models for better accuracy (may cost more)
# Recommended: true for phone calls (uses "phone_call" model optimized for telephony)
google.cloud.speech.use.enhanced.model=true

# Salesforce Configuration
# Salesforce OAuth2 credentials
# Get these from Salesforce Setup > App Manager > New Connected App
salesforce.client.id=3MVG9q4K8Dm94dAzGWracSBQ3ZhPrU5vBYBFplKPpKNtMDGJZWxfbUh5wB1b2TiNO5GbYwK6K029M8lWDoWsa
salesforce.client.secret=895D7093750339DB224D880FE35D186D378702DF619E322743B1CF26462EACAA

# Salesforce user credentials for authentication
salesforce.username=swarupreddy4@playful-shark-jecwtk.com
salesforce.password=Saanvika@20221409
# Security token (required if IP restrictions are enabled)
# Get from: Setup > My Personal Information > Reset My Security Token
salesforce.security.token=p1CT2knCUbGIjb1APMuaaLRs4

# Salesforce instance URL (will be set automatically after authentication)
# For sandbox: https://test.salesforce.com
# For production: https://login.salesforce.com
salesforce.login.url=https://playful-shark-jecwtk-dev-ed.trailblaze.my.salesforce.com
salesforce.instance.url=

salesforce.client.id=3MVG9q4K8Dm94dAzGWracSBQ3ZhPrU5vBYBFplKPpKNtMDGJZWxfbUh5wB1b2TiNO5GbYwK6K029M8lWDoWsa
salesforce.jwt.subject=swarupreddy4@playful-shark-jecwtk.com
salesforce.jwt.audience=https://login.salesforce.com
salesforce.jwt.private-key-path=C:/Users/megha/Downloads/salesforce-jwt-pkcs8.key

